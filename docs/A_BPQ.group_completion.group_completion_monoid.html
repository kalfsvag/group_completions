<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>A_BPQ.group_completion.group_completion_monoid</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library A_BPQ.group_completion.group_completion_monoid</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">HoTT</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">UnivalenceAxiom</span>.<br/>

<br/>
<span class="id" type="var">From</span> <span class="id" type="var">A_BPQ</span> <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="A_BPQ.sigma_lemmas.html#"><span class="id" type="library">sigma_lemmas</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#"><span class="id" type="library">monoids_and_groups</span></a> <a class="idref" href="A_BPQ.background.quotients.html#"><span class="id" type="library">quotients</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Monoid_action"><span class="id" type="section">Monoid_action</span></a>.<br/>
</div>

<div class="doc">
Defining sets with a monoid action (see MacLane, p5) 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">monoid_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Record</span> <a name="Monoid_Action"><span class="id" type="record">Monoid_Action</span></a> (<span class="id" type="var">M</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Monoid"><span class="id" type="record">Monoid</span></a>) (<span class="id" type="var">X</span> : <span class="id" type="abbreviation">hSet</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= {<a name="function_of"><span class="id" type="projection">function_of</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">(</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="assoc_function_of"><span class="id" type="projection">assoc_function_of</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="notation">(</span><span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="method">function_of</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="method">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="method">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="preserve_id_function_of"><span class="id" type="projection">preserve_id_function_of</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="method">function_of</span></a> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Global</span>&nbsp;<span class="id" type="var">Arguments</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> {<span class="id" type="var">M</span>} {<span class="id" type="var">X</span>} <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
If M acts on X, we define the localization of the action to be )
  the quotient X/~, where x ~ y if there is an <span class="inlinecode"><span class="id" type="var">s</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" type="var">S</span></span> such that <span class="inlinecode"><span class="id" type="var">s</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" type="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" type="var">y</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> {<span class="id" type="var">M</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Monoid"><span class="id" type="record">Monoid</span></a>} (<span class="id" type="var">X</span> : <span class="id" type="abbreviation">hSet</span>) (<span class="id" type="var">a</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Monoid_Action"><span class="id" type="record">Monoid_Action</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a>) : <span class="id" type="definition">relation</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">|</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Specif.html#::type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">}</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <a name="relation_is_mere"><span class="id" type="lemma">relation_is_mere</span></a> {<span class="id" type="var">M</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Monoid"><span class="id" type="record">Monoid</span></a>} (<span class="id" type="var">X</span> : <span class="id" type="abbreviation">hSet</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">a</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Monoid_Action"><span class="id" type="record">Monoid_Action</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">isfree_a</span> : <span class="id" type="keyword">forall</span> <span class="id" type="notation">(</span><span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#M"><span class="id" type="variable">M</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a><span class="id" type="notation">),</span> <span class="id" type="notation">(</span><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a><span class="id" type="notation">)</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="abbreviation">is_mere_relation</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#X"><span class="id" type="variable">X</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.sigma_lemmas.html#trunc_sigma'"><span class="id" type="definition">trunc_sigma'</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">m1</span> <span class="id" type="var">p1</span>] [<span class="id" type="var">m2</span> <span class="id" type="var">p2</span>]. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="lemma">contr_inhabited_hprop</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">isfree_a</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">x</span> (<span class="id" type="var">p1</span> <span class="id" type="notation">@</span> <span class="id" type="var">p2</span><span class="id" type="notation">^</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Monoid_action"><span class="id" type="section">Monoid_action</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Set_Group_Completion"><span class="id" type="section">Set_Group_Completion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">monoid_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="Set_Group_Completion.M"><span class="id" type="variable">M</span></a> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Symmetric_Monoid"><span class="id" type="record">Symmetric_Monoid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Variable</span> <a name="Set_Group_Completion.right_cancellation_M"><span class="id" type="variable">right_cancellation_M</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><span class="id" type="notation">,</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m"><span class="id" type="variable">m</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#n"><span class="id" type="variable">n</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="product_action"><span class="id" type="definition">product_action</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Monoid_Action"><span class="id" type="record">Monoid_Action</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> (@<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Build_Monoid_Action"><span class="id" type="constructor">Build_Monoid_Action</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">m</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> [<span class="id" type="var">x1</span> <span class="id" type="var">x2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">path_prod</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">x1</span> <span class="id" type="var">x2</span>]. <span class="id" type="tactic">apply</span> <span class="id" type="definition">path_prod</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="right_cancel_action"><span class="id" type="definition">right_cancel_action</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="notation">(</span><span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><span class="id" type="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#function_of"><span class="id" type="projection">function_of</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m1"><span class="id" type="variable">m1</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#m2"><span class="id" type="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> [<span class="id" type="var">x1</span> <span class="id" type="var">x2</span>]. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.right_cancellation_M"><span class="id" type="variable">right_cancellation_M</span></a> <span class="id" type="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Instance</span> <a name="product_action_is_mere"><span class="id" type="instance">product_action_is_mere</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="abbreviation">is_mere_relation</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>) (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#relation_is_mere"><span class="id" type="lemma">relation_is_mere</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)) (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#right_cancel_action"><span class="id" type="definition">right_cancel_action</span></a>.<br/>

<br/>
</div>

<div class="doc">
The group completion of a monoid.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="set_group_completion"><span class="id" type="definition">set_group_completion</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.set_quotient"><span class="id" type="inductive">set_quotient</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="set_group_completion_rec"><span class="id" type="definition">set_group_completion_rec</span></a> (<span class="id" type="var">Y</span> : <span class="id" type="keyword">Type</span>) {<span class="id" type="var">isset_Y</span> : <span class="id" type="class">IsTrunc</span> 0 <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Y"><span class="id" type="variable">Y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Y"><span class="id" type="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">cancel_f</span> : <span class="id" type="keyword">forall</span> <span class="id" type="notation">(</span><span class="id" type="var">s</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>) (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><span class="id" type="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>) (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Y"><span class="id" type="variable">Y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.quotients.html#set_quotient_rec"><span class="id" type="definition">set_quotient_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">b</span>]. <span class="id" type="tactic">exact</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">a1</span> <span class="id" type="var">b1</span>] [<span class="id" type="var">a2</span> <span class="id" type="var">b2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a>. <span class="id" type="tactic">intros</span> [<span class="id" type="var">s</span> <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">pa</span> := (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> (<span class="id" type="notation">(</span><span class="id" type="definition">equiv_path_prod</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><span class="id" type="notation">)^-1</span> <span class="id" type="var">p</span>))). <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">pa</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">pa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">set</span> (<span class="id" type="var">pb</span> := (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> (<span class="id" type="notation">(</span><span class="id" type="definition">equiv_path_prod</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><span class="id" type="notation">)^-1</span> <span class="id" type="var">p</span>))). <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">pb</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">pb</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">cancel_f</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.class_of"><span class="id" type="constructor">class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="lcancel_to_groupcompletion"><span class="id" type="definition">lcancel_to_groupcompletion</span></a> (<span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_mult"><span class="id" type="projection">mon_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>) (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_mult"><span class="id" type="projection">mon_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.related_classes_eq"><span class="id" type="axiom">related_classes_eq</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a>. <span class="id" type="tactic">exists</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" type="var">isprop_P</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span> <span class="id" type="abbreviation">IsHProp</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#z"><span class="id" type="variable">z</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">forall</span> <span class="id" type="notation">(</span><span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a><span class="id" type="notation">),</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#P"><span class="id" type="variable">P</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#P"><span class="id" type="variable">P</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#z"><span class="id" type="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (@<a class="idref" href="A_BPQ.background.quotients.html#set_quotient_ind_prop"><span class="id" type="lemma">set_quotient_ind_prop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">P</span> <span class="id" type="var">isprop_P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">a</span> <span class="id" type="var">b</span>]. <span class="id" type="tactic">exact</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now we prove that the group completion is a group  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.quotients.html#set_quotient_rec2"><span class="id" type="definition">set_quotient_rec2</span></a>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">a1</span> <span class="id" type="var">a2</span>] [<span class="id" type="var">b1</span> <span class="id" type="var">b2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> (<span class="id" type="var">a1</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b1</span>) (<span class="id" type="var">a2</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">a1</span> <span class="id" type="var">a2</span>] [<span class="id" type="var">b1</span> <span class="id" type="var">b2</span>] [<span class="id" type="var">c1</span> <span class="id" type="var">c2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">s</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.related_classes_eq"><span class="id" type="axiom">related_classes_eq</span></a>. <span class="id" type="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">path_prod</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">c1</span>)). <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">c2</span>)). <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">a1</span> <span class="id" type="var">a2</span>] [<span class="id" type="var">b1</span> <span class="id" type="var">b2</span>] [<span class="id" type="var">c1</span> <span class="id" type="var">c2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">s</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.related_classes_eq"><span class="id" type="axiom">related_classes_eq</span></a>. <span class="id" type="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">path_prod</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">refine</span> (<span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b1</span>) <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_sym"><span class="id" type="projection">mon_sym</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_mult"><span class="id" type="projection">mon_mult</span></a> <span class="id" type="var">a1</span>)). <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">refine</span> (<span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b2</span>) <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_sym"><span class="id" type="projection">mon_sym</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_mult"><span class="id" type="projection">mon_mult</span></a> <span class="id" type="var">a2</span>)). <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="grp_compl_inv"><span class="id" type="definition">grp_compl_inv</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_rec"><span class="id" type="definition">set_group_completion_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">b</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#lcancel_to_groupcompletion"><span class="id" type="definition">lcancel_to_groupcompletion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="grp_compl_linv"><span class="id" type="definition">grp_compl_linv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_inv"><span class="id" type="definition">grp_compl_inv</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.set_quotient_set"><span class="id" type="axiom">set_quotient_set</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#lcancel_to_groupcompletion"><span class="id" type="definition">lcancel_to_groupcompletion</span></a> (<span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_sym"><span class="id" type="projection">mon_sym</span></a>. + <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="grp_compl_rinv"><span class="id" type="definition">grp_compl_rinv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_inv"><span class="id" type="definition">grp_compl_inv</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a>) <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<a class="idref" href="A_BPQ.background.quotients.html#Set_Quotient.set_quotient_set"><span class="id" type="axiom">set_quotient_set</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_relation"><span class="id" type="definition">grp_compl_relation</span></a> (<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion.M"><span class="id" type="variable">M</span></a>)) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#product_action"><span class="id" type="definition">product_action</span></a>) <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#lcancel_to_groupcompletion"><span class="id" type="definition">lcancel_to_groupcompletion</span></a> (<span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_sym"><span class="id" type="projection">mon_sym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="set_group_completion_group"><span class="id" type="definition">set_group_completion_group</span></a> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Group"><span class="id" type="record">Group</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.monoids_and_groups.html#Build_Group"><span class="id" type="constructor">Build_Group</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.monoids_and_groups.html#Build_Monoid"><span class="id" type="constructor">Build_Monoid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="constructor">BuildTruncType</span> 0 <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#associative"><span class="id" type="definition">associative</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a>  =&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#c"><span class="id" type="variable">c</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a1</span> <span class="id" type="var">b1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">b</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a> =&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">c</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion"><span class="id" type="definition">set_group_completion</span></a><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">b1</span>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">a1</span> <span class="id" type="var">b1</span>) (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_mult"><span class="id" type="definition">grp_compl_mult</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#c"><span class="id" type="variable">c</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a2</span> <span class="id" type="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a3</span> <span class="id" type="var">b3</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>); <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#left_identity"><span class="id" type="definition">left_identity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>); <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#right_identity"><span class="id" type="definition">right_identity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>); <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_inv"><span class="id" type="definition">grp_compl_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#left_inverse"><span class="id" type="definition">left_inverse</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_linv"><span class="id" type="definition">grp_compl_linv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#right_inverse"><span class="id" type="definition">right_inverse</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#grp_compl_rinv"><span class="id" type="definition">grp_compl_rinv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The inclusion of a monoid into a group.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">M</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">(</span></a><a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">set_group_completion_group</span></a><a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.monoids_and_groups.html#Build_Homomorphism"><span class="id" type="constructor">Build_Homomorphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> (<span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="inverse_precompose_groupcompletion"><span class="id" type="definition">inverse_precompose_groupcompletion</span></a> (<span class="id" type="var">G</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Abelian_Group"><span class="id" type="record">Abelian_Group</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">M</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">set_group_completion_group</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.background.monoids_and_groups.html#Build_Homomorphism"><span class="id" type="constructor">Build_Homomorphism</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="var">srapply</span> @<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_rec"><span class="id" type="definition">set_group_completion_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">g</span> <span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">g</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_inv_distr"><span class="id" type="definition">grp_inv_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_sym"><span class="id" type="projection">grp_sym</span></a> (<span class="id" type="var">a</span> := <span class="id" type="var">g</span> <span class="id" type="var">s</span>) (<span class="id" type="var">b</span> := <span class="id" type="var">g</span> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_sym"><span class="id" type="projection">grp_sym</span></a> (<span class="id" type="var">a</span> := <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">g</span> <span class="id" type="var">b</span>) (<span class="id" type="var">b</span> := <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">g</span> <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <span class="id" type="notation">@</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="notation">(</span><span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="var">g</span> <span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_rinv"><span class="id" type="projection">grp_rinv</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_rinv"><span class="id" type="projection">grp_rinv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>). <span class="id" type="tactic">intros</span> <span class="id" type="var">a2</span> <span class="id" type="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">revert</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>). <span class="id" type="tactic">intros</span> <span class="id" type="var">a1</span> <span class="id" type="var">b1</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; <span class="id" type="var">g</span> <span class="id" type="var">a1</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_inv_distr"><span class="id" type="definition">grp_inv_distr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_sym"><span class="id" type="projection">grp_sym</span></a> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_assoc"><span class="id" type="projection">mon_assoc</span></a><span class="id" type="notation">^</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="universal_groupcompletion"><span class="id" type="definition">universal_groupcompletion</span></a> (<span class="id" type="var">G</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Abelian_Group"><span class="id" type="record">Abelian_Group</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="class">IsEquiv</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">f</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">set_group_completion_group</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a> =&gt; <a class="idref" href="A_BPQ.background.monoids_and_groups.html#compose_hom"><span class="id" type="definition">compose_hom</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<span class="id" type="definition">isequiv_adjointify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#inverse_precompose_groupcompletion"><span class="id" type="definition">inverse_precompose_groupcompletion</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <span class="id" type="definition">Sect</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="definition">path_arrow</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_id"><span class="id" type="projection">preserve_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#inv_id"><span class="id" type="definition">inv_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">unfold</span> <span class="id" type="definition">Sect</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">g</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="definition">path_arrow</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>. <span class="id" type="var">revert</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>). <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_inv"><span class="id" type="definition">preserve_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
This is more in line with the proof in the thesis 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="universal_groupcompletion'"><span class="id" type="definition">universal_groupcompletion'</span></a> (<span class="id" type="var">G</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Abelian_Group"><span class="id" type="record">Abelian_Group</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="class">IsEquiv</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">f</span> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">set_group_completion_group</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a> =&gt; <a class="idref" href="A_BPQ.background.monoids_and_groups.html#compose_hom"><span class="id" type="definition">compose_hom</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">isequiv_isepi_ismono</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">set_group_completion_group</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="abbreviation">BuildhSet</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">Hom</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">M</span></a> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:'Hom'"><span class="id" type="notation">G</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="lemma">issurj_isepi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">BuildIsSurjection</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="constructor">tr</span>. <span class="id" type="tactic">unfold</span> <span class="id" type="definition">hfiber</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#inverse_precompose_groupcompletion"><span class="id" type="definition">inverse_precompose_groupcompletion</span></a> <span class="id" type="var">G</span> <span class="id" type="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="definition">path_arrow</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_id"><span class="id" type="projection">preserve_id</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#inv_id"><span class="id" type="definition">inv_id</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="lemma">isinj_ismono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="definition">isinj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">f</span> <span class="id" type="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="definition">path_arrow</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>. <span class="id" type="var">revert</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<span class="id" type="var">f</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>) <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">f</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">b</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>) <span class="id" type="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">g</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">a</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>) <a class="idref" href="A_BPQ.background.monoids_and_groups.html#::monoid_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">g</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <span class="id" type="var">b</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_id"><span class="id" type="projection">mon_id</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intro</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">p</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_inv"><span class="id" type="definition">preserve_inv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="A_BPQ.background.monoids_and_groups.html#preserve_mult"><span class="id" type="projection">preserve_mult</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> =&gt; <span class="id" type="var">_</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#y"><span class="id" type="variable">y</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_rid"><span class="id" type="projection">mon_rid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_lid"><span class="id" type="projection">mon_lid</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> (@<a class="idref" href="A_BPQ.background.monoids_and_groups.html#mon_mult"><span class="id" type="projection">mon_mult</span></a> <span class="id" type="var">G</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="definition">ap10</span> (<span class="id" type="lemma">equiv_inverse</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a> (<span class="id" type="var">f</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#:::x_'oH'_x"><span class="id" type="notation">oH</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>) (<span class="id" type="var">g</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#:::x_'oH'_x"><span class="id" type="notation">oH</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>)) <span class="id" type="var">H</span>) <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_inv"><span class="id" type="projection">grp_inv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="definition">ap10</span> (<span class="id" type="lemma">equiv_inverse</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#path_hom"><span class="id" type="definition">path_hom</span></a> (<span class="id" type="var">f</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#:::x_'oH'_x"><span class="id" type="notation">oH</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>) (<span class="id" type="var">g</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#:::x_'oH'_x"><span class="id" type="notation">oH</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>)) <span class="id" type="var">H</span>) <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Set_Group_Completion"><span class="id" type="section">Set_Group_Completion</span></a>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <a name="Integers"><span class="id" type="section">Integers</span></a>.<br/>
</div>

<div class="doc">
We define the integers to be the group completion of the natural numbers.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="Integers"><span class="id" type="definition">Integers</span></a> : <a class="idref" href="A_BPQ.background.monoids_and_groups.html#Group"><span class="id" type="record">Group</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_group"><span class="id" type="definition">set_group_completion_group</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#Build_Symmetric_Monoid"><span class="id" type="constructor">Build_Symmetric_Monoid</span></a> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#nat_monoid"><span class="id" type="definition">nat_monoid</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="definition">nat_plus_comm</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion"><span class="id" type="definition">to_groupcompletion</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="integer_to_nat"><span class="id" type="definition">integer_to_nat</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_rec"><span class="id" type="definition">set_group_completion_rec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.background.monoids_and_groups.html#nat_minus"><span class="id" type="definition">nat_minus</span></a> <span class="id" type="var">b</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="issect_to_groupcompletion"><span class="id" type="definition">issect_to_groupcompletion</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#integer_to_nat"><span class="id" type="definition">integer_to_nat</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>) <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_group"><span class="id" type="definition">set_group_completion_group</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#to_groupcompletion'"><span class="id" type="definition">to_groupcompletion'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="rcancel_integers"><span class="id" type="definition">rcancel_integers</span></a> (<span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Peano.html#::nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>) (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Peano.html#::nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#lcancel_to_groupcompletion"><span class="id" type="definition">lcancel_to_groupcompletion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The function from nat to the integers is injective.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="inj_nat_to_integer"><span class="id" type="definition">inj_nat_to_integer</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>) : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="notation">(</span><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#issect_to_groupcompletion"><span class="id" type="definition">issect_to_groupcompletion</span></a> <span class="id" type="var">a</span><span class="id" type="notation">)^</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#issect_to_groupcompletion"><span class="id" type="definition">issect_to_groupcompletion</span></a> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#integer_to_nat"><span class="id" type="definition">integer_to_nat</span></a> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="diff_zero"><span class="id" type="definition">diff_zero</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> 0) : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#inj_nat_to_integer"><span class="id" type="definition">inj_nat_to_integer</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.background.monoids_and_groups.html#grp_moveL_M1"><span class="id" type="definition">grp_moveL_M1</span></a>. <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap011</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="definition">inverse</span>. <span class="id" type="tactic">apply</span> <span class="id" type="lemma">nat_plus_n_O</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now we prove that this definition of integers is equivalent to the one in the HoTT library 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="succ_nat_to_pos"><span class="id" type="definition">succ_nat_to_pos</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="inductive">Pos</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="constructor">Int.one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="constructor">succ_pos</span> <span class="id" type="var">IHa</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="nat_to_int"><span class="id" type="definition">nat_to_int</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="inductive">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="constructor">Int.zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="constructor">pos</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#succ_nat_to_pos"><span class="id" type="definition">succ_nat_to_pos</span></a> <span class="id" type="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="int_neg"><span class="id" type="definition">int_neg</span></a> : <span class="id" type="inductive">Int</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="inductive">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">n</span> | | <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="constructor">pos</span> <span class="id" type="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="constructor">Int.zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="constructor">neg</span> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Fixpoint</span> <a name="nat_int_minus"><span class="id" type="definition">nat_int_minus</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="inductive">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_int"><span class="id" type="definition">nat_to_int</span></a> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_neg"><span class="id" type="definition">int_neg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_int"><span class="id" type="definition">nat_to_int</span></a> <span class="id" type="var">b</span><span class="id" type="notation">.+1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">exact</span> (<span class="id" type="var">nat_int_minus</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="integers_to_int"><span class="id" type="definition">integers_to_int</span></a> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <span class="id" type="inductive">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_rec"><span class="id" type="definition">set_group_completion_rec</span></a>); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">exact</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_int_minus"><span class="id" type="definition">nat_int_minus</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="pred_pos_to_nat"><span class="id" type="definition">pred_pos_to_nat</span></a> : <span class="id" type="inductive">Pos</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="var">IHp</span><span class="id" type="notation">.+1</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="pos_to_nat"><span class="id" type="definition">pos_to_nat</span></a> (<span class="id" type="var">p</span> : <span class="id" type="inductive">Pos</span>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" type="notation">(</span><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_pos_to_nat"><span class="id" type="definition">pred_pos_to_nat</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#p"><span class="id" type="variable">p</span></a><span class="id" type="notation">).+1</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="int_to_natnat"><span class="id" type="definition">int_to_natnat</span></a> : <span class="id" type="inductive">Int</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">n</span> | | <span class="id" type="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pos_to_nat"><span class="id" type="definition">pos_to_nat</span></a> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pos_to_nat"><span class="id" type="definition">pos_to_nat</span></a> <span class="id" type="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#::core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="int_to_integers"><span class="id" type="definition">int_to_integers</span></a> : <span class="id" type="inductive">Int</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#::type_scope:x_'->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_natnat"><span class="id" type="definition">int_to_natnat</span></a> <span class="id" type="var">z</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_natnat"><span class="id" type="definition">int_to_natnat</span></a> <span class="id" type="var">z</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="succ_pred_nat_pos"><span class="id" type="definition">succ_pred_nat_pos</span></a> (<span class="id" type="var">p</span> : <span class="id" type="inductive">Pos</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#succ_nat_to_pos"><span class="id" type="definition">succ_nat_to_pos</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_pos_to_nat"><span class="id" type="definition">pred_pos_to_nat</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#p"><span class="id" type="variable">p</span></a>) <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#p"><span class="id" type="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">p</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="definition">ap</span> (<span class="id" type="constructor">succ_pos</span>) <span class="id" type="var">IHp</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="pred_succ_nat_pos"><span class="id" type="definition">pred_succ_nat_pos</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_pos_to_nat"><span class="id" type="definition">pred_pos_to_nat</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#succ_nat_to_pos"><span class="id" type="definition">succ_nat_to_pos</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>) <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">IHa</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Fixpoint</span> <a name="retr_int_natnat"><span class="id" type="definition">retr_int_natnat</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="projection">fst</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_natnat"><span class="id" type="definition">int_to_natnat</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_int_minus"><span class="id" type="definition">nat_int_minus</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="projection">snd</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_natnat"><span class="id" type="definition">int_to_natnat</span></a> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_int_minus"><span class="id" type="definition">nat_int_minus</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>))) <span class="id" type="notation">=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#natnat_to_integer"><span class="id" type="definition">natnat_to_integer</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>, <span class="id" type="var">b</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pos_to_nat"><span class="id" type="definition">pos_to_nat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_succ_nat_pos"><span class="id" type="definition">pred_succ_nat_pos</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_succ_nat_pos"><span class="id" type="definition">pred_succ_nat_pos</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">refine</span> (<span class="id" type="var">retr_int_natnat</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#rcancel_integers"><span class="id" type="definition">rcancel_integers</span></a> 1).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="equiv_integers"><span class="id" type="definition">equiv_integers</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="definition">Integers</span></a> <span class="id" type="notation">&lt;~&gt;</span> <span class="id" type="inductive">Int</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">equiv_adjointify</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#integers_to_int"><span class="id" type="definition">integers_to_int</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_integers"><span class="id" type="definition">int_to_integers</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">z</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">z</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">n</span> | | <span class="id" type="var">p</span>]; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">destruct</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <span class="id" type="constructor">neg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <span class="id" type="constructor">succ_pos</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#succ_pred_nat_pos"><span class="id" type="definition">succ_pred_nat_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <span class="id" type="constructor">pos</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#succ_pred_nat_pos"><span class="id" type="definition">succ_pred_nat_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">z</span>. <span class="id" type="var">revert</span> <span class="id" type="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#set_group_completion_ind_prop"><span class="id" type="definition">set_group_completion_ind_prop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#int_to_integers"><span class="id" type="definition">int_to_integers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#retr_int_natnat"><span class="id" type="definition">retr_int_natnat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="nat_to_int_commute"><span class="id" type="definition">nat_to_int_commute</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#equiv_integers"><span class="id" type="definition">equiv_integers</span></a> <span class="id" type="notation">o</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_integer"><span class="id" type="definition">nat_to_integer</span></a> <span class="id" type="notation">==</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_int"><span class="id" type="definition">nat_to_int</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We end by noting that the function from <span class="inlinecode"><span class="id" type="var">nat</span></span> to <span class="inlinecode"><span class="id" type="var">Integers</span></span> is injective.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <a name="inj_nat_to_int"><span class="id" type="definition">inj_nat_to_int</span></a> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_int"><span class="id" type="definition">nat_to_int</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#nat_to_int"><span class="id" type="definition">nat_to_int</span></a> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>) : <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="notation">=</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>, <span class="id" type="var">b</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="lemma">Empty_rec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">pos_neq_zero</span> <span class="id" type="var">p</span><span class="id" type="notation">^</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <span class="id" type="lemma">Empty_rec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">pos_neq_zero</span> <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="notation">(</span><a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_succ_nat_pos"><span class="id" type="definition">pred_succ_nat_pos</span></a> <span class="id" type="var">_</span><span class="id" type="notation">)^</span> <span class="id" type="notation">@</span> <span class="id" type="var">_</span> <span class="id" type="notation">@</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_succ_nat_pos"><span class="id" type="definition">pred_succ_nat_pos</span></a> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="definition">ap</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#pred_pos_to_nat"><span class="id" type="definition">pred_pos_to_nat</span></a>). <span class="id" type="tactic">apply</span> <span class="id" type="definition">pos_injective</span>. <span class="id" type="tactic">exact</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <a class="idref" href="A_BPQ.group_completion.group_completion_monoid.html#Integers"><span class="id" type="section">Integers</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>