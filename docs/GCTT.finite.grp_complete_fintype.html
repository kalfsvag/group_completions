<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>GCTT.finite.grp_complete_fintype</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library GCTT.finite.grp_complete_fintype</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">HoTT</span>.<br/>

<br/>
<span class="id" type="var">From</span> <span class="id" type="var">GCTT</span> <span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">conn_ptype</span> <span class="id" type="var">path_lemmas</span> <span class="id" type="var">finite_types</span> <span class="id" type="var">delooping</span> <span class="id" type="var">permutations</span> <span class="id" type="var">fintype_monoidal</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">group_complete_1type</span> <span class="id" type="var">onetype_completion</span> <span class="id" type="var">monoidal_category</span>.<br/>

<br/>
<span class="id" type="keyword">Close</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">functor</span>. <span class="id" type="var">Close</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">category</span>. <span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">type</span>.<br/>
</div>

<div class="doc">
The group completion of the monoidal category <span class="inlinecode"><span class="id" type="var">FinType</span></span>  
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="var">group_completion_FinType</span> := <span class="id" type="var">group_completion_moncat</span> <span class="id" type="var">FinType_smoncat</span> <span class="id" type="var">FinType_lcancel</span>.<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="var">Univalent_Group_Completion_FinType</span>.<br/>
</div>

<div class="doc">
The group completion of FinType is univalent.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Lemma</span> <span class="id" type="var">sum_empty_is_empty</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">A</span> + <span class="id" type="var">B</span> &lt;~&gt; <span class="id" type="var">Empty</span> -&gt; <span class="id" type="var">A</span> &lt;~&gt; <span class="id" type="var">Empty</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">BuildEquiv</span> <span class="id" type="var">A</span> <span class="id" type="var">Empty</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">a</span> =&gt; <span class="id" type="var">e</span> (<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">a</span>)) ). <span class="id" type="tactic">apply</span> <span class="id" type="var">all_to_empty_isequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">univalent_group_completion_FinType</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">Categories.IsCategory</span> <span class="id" type="var">group_completion_FinType</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">univalent_monactcat</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intro</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">path_FinType</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">sum_empty_is_empty</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> ((<span class="id" type="var">path_FinType</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)^-1 <span class="id" type="var">p</span>)%<span class="id" type="var">function</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intro</span> <span class="id" type="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">trunc_equiv'</span> (<span class="id" type="var">Empty</span> &lt;~&gt; <span class="id" type="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="var">equiv_path_FinType</span> (<span class="id" type="var">canon_FinType</span> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="var">trunc_equiv'</span> (<span class="id" type="var">A</span> &lt;~&gt; <span class="id" type="var">Empty</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">apply</span> <span class="id" type="var">equiv_equiv_inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">exact</span> <span class="id" type="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>
<span class="id" type="keyword">End</span> <span class="id" type="var">Univalent_Group_Completion_FinType</span>.<br/>

<br/>
</div>

<div class="doc">
Define a shorthand for the 1-type completion of the group completion of FinType  
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="var">Z</span> := <span class="id" type="var">N1</span> (<span class="id" type="var">group_completion_FinType</span>).<br/>

<br/>
</div>

<div class="doc">
A naturality lemma  
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <span class="id" type="var">ccleq_concat_Z</span> (<span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> : <span class="id" type="var">FinType</span>) (<span class="id" type="var">A2</span> <span class="id" type="var">A3</span> : <span class="id" type="var">FinType</span> * <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>, <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span>) = <span class="id" type="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q</span> : <span class="id" type="var">A2</span> = <span class="id" type="var">A3</span>)<br/>
&nbsp;&nbsp;: <span class="id" type="var">ccleq</span> <span class="id" type="var">group_completion_FinType</span> (<span class="id" type="var">a₁</span> := (<span class="id" type="var">A1</span>, <span class="id" type="var">B1</span>)) (<span class="id" type="var">S</span>; <span class="id" type="var">p</span> @ <span class="id" type="var">q</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ccleq</span> <span class="id" type="var">group_completion_FinType</span> (<span class="id" type="var">a₁</span> := (<span class="id" type="var">A1</span>, <span class="id" type="var">B1</span>)) (<span class="id" type="var">S</span>; <span class="id" type="var">p</span>) @ <span class="id" type="var">ap</span> (<span class="id" type="var">ccl</span> <span class="id" type="var">group_completion_FinType</span>) <span class="id" type="var">q</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">FinType_to_Z</span> : <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">ccl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">A</span>, <span class="id" type="var">B</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <span class="id" type="var">Fin_to_Z</span> {<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>}<br/>
&nbsp;&nbsp;: <span class="id" type="var">Finite_Types</span> <span class="id" type="var">a</span> -&gt; <span class="id" type="var">Finite_Types</span> <span class="id" type="var">b</span> -&gt; <span class="id" type="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">FinType_to_Z</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="var">fin_to_FinType</span> <span class="id" type="var">A</span>).<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="var">fin_to_FinType</span> <span class="id" type="var">B</span>).<br/>
<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="var">N1_FinType_set_ind</span>.<br/>
</div>

<div class="doc">
Here we are defining a set induction principle for  <span class="inlinecode"><span class="id" type="var">N1</span></span> <span class="inlinecode">(<span class="id" type="var">group_completion_FinType</span>)</span>. Here we do this directly, whereas in the thesis we go via showing that (BSym)^-1(BSym) -&gt; Fin^-1Fin is a weak equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">canon_grpclFinType_sum</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">n1</span> <span class="id" type="var">n2</span> : <span class="id" type="var">nat</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m1</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m2</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n2</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">n1</span> + <span class="id" type="var">m1</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">n2</span> + <span class="id" type="var">m2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span>); <span class="id" type="tactic">apply</span> <span class="id" type="var">finsum_id</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> : <span class="id" type="var">FinType</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> = <span class="id" type="var">A2</span>) -&gt; (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> = <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ccleq</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">path_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> <span class="id" type="var">p</span>. - <span class="id" type="tactic">exact</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_fr</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> : <span class="id" type="var">FinType</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>) -&gt; (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> = <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">ccleq</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">S</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">path_prod</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="var">FinType_symmetric</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">exact</span> (<span class="id" type="var">FinType_symmetric</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">q</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">S</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> = <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">idpath</span> <span class="id" type="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_Z_fr</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> = <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">S</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">B</span> <span class="id" type="var">S</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">idpath</span> <span class="id" type="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_pp_r</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">A2'</span> <span class="id" type="var">B2'</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">p2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">A2</span> = <span class="id" type="var">A2'</span>) (<span class="id" type="var">q2</span> : <span class="id" type="var">B2</span> = <span class="id" type="var">B2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> (<span class="id" type="var">p1</span> @ <span class="id" type="var">q1</span>) (<span class="id" type="var">p2</span> @ <span class="id" type="var">q2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> @ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">q2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p2</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_pp_l</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A1'</span> <span class="id" type="var">B1'</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">S</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">A1</span> = <span class="id" type="var">A1'</span>) (<span class="id" type="var">p2</span> : <span class="id" type="var">B1</span> = <span class="id" type="var">B1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1'</span> = <span class="id" type="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1'</span>= <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p1</span> @ <span class="id" type="var">q1</span>) (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p2</span> @ <span class="id" type="var">q2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> @ <span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">q2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_fr_pp_r</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">A2'</span> <span class="id" type="var">B2'</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">p2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">A2</span> = <span class="id" type="var">A2'</span>) (<span class="id" type="var">q2</span> : <span class="id" type="var">B2</span> = <span class="id" type="var">B2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> (<span class="id" type="var">p1</span> @ <span class="id" type="var">q1</span>) (<span class="id" type="var">p2</span> @ <span class="id" type="var">q2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> @ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">q2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p2</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_fr_pp_l</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A1'</span> <span class="id" type="var">B1'</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">S</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">A1</span> = <span class="id" type="var">A1'</span>) (<span class="id" type="var">p2</span> : <span class="id" type="var">B1</span> = <span class="id" type="var">B1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1'</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1'</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">p1</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">q1</span>) (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">p2</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">q2</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span> @ <span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">p1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_100</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>} (<span class="id" type="var">S</span> <span class="id" type="var">S'</span> : <span class="id" type="var">FinType</span>) (<span class="id" type="var">p</span> : <span class="id" type="var">S'</span> = <span class="id" type="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> = <span class="id" type="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z</span> <span class="id" type="var">S'</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">p</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">q1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">p</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_fr_100</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>} (<span class="id" type="var">S</span> <span class="id" type="var">S'</span> : <span class="id" type="var">FinType</span>) (<span class="id" type="var">p</span> : <span class="id" type="var">S'</span> = <span class="id" type="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">q1</span> <span class="id" type="var">q2</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S'</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p</span> @ <span class="id" type="var">q1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p</span> @ <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_is_lcancel</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">q</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span> = <span class="id" type="var">lcancel_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> @ <span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">path_Z_pp_r</span> <span class="id" type="var">S</span> <span class="id" type="var">idpath</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_fr_is_lcancel</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span>} (<span class="id" type="var">S</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">q</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span> = <span class="id" type="var">lcancel_Z_fr</span> <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> @ <span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">path_Z_fr_pp_r</span> <span class="id" type="var">S</span> <span class="id" type="var">idpath</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_compose</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">A3</span> <span class="id" type="var">B3</span>: <span class="id" type="var">FinType</span>} (<span class="id" type="var">S</span> <span class="id" type="var">T</span>: <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">A2</span> = <span class="id" type="var">A3</span>) (<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">B2</span> = <span class="id" type="var">B3</span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">p1</span> <span class="id" type="var">q1</span>) @ (<span class="id" type="var">path_Z</span> <span class="id" type="var">T</span> <span class="id" type="var">p2</span> <span class="id" type="var">q2</span>) = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" type="var">path_Z</span>  <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A3</span> <span class="id" type="var">B3</span>  (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> @ <span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">p1</span> @ <span class="id" type="var">p2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">B1</span> @ <span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> <span class="id" type="var">q1</span> @ <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">path_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">cconcat</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>). <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">ccleq</span> <span class="id" type="var">group_completion_FinType</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>; <span class="id" type="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">ap_functor_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_prod_pp</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_prod_pp</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">path_Z_fr_compose</span> {<span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A2</span> <span class="id" type="var">B2</span> <span class="id" type="var">A3</span> <span class="id" type="var">B3</span>: <span class="id" type="var">FinType</span>} (<span class="id" type="var">S</span> <span class="id" type="var">T</span>: <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> = <span class="id" type="var">A2</span>) (<span class="id" type="var">q1</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> = <span class="id" type="var">B2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">A2</span> <span class="id" type="var">T</span> = <span class="id" type="var">A3</span>) (<span class="id" type="var">q2</span> : <span class="id" type="var">sum_FinType</span> <span class="id" type="var">B2</span> <span class="id" type="var">T</span> = <span class="id" type="var">B3</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">S</span> <span class="id" type="var">p1</span> <span class="id" type="var">q1</span>) @ (<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">T</span> <span class="id" type="var">p2</span> <span class="id" type="var">q2</span>) = <br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" type="var">path_Z_fr</span>  <span class="id" type="var">A1</span> <span class="id" type="var">B1</span> <span class="id" type="var">A3</span> <span class="id" type="var">B3</span>  (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">A1</span> <span class="id" type="var">S</span> <span class="id" type="var">T</span>)^ @ <span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">p1</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">p2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">B1</span> <span class="id" type="var">S</span> <span class="id" type="var">T</span>)^ @ <span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">q1</span> <span class="id" type="var">idpath</span> @ <span class="id" type="var">q2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">path_Z_fr_100</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="var">FinType_symmetric</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">path_Z_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">inverse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">cconcat</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">ccleq</span> <span class="id" type="var">group_completion_FinType</span>)). <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> =&gt; (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>; <span class="id" type="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">ap_functor_prod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_prod_pp</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_prod_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">q1</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">natural_path_FinType_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">natural_path_FinType_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap011</span> (<span class="id" type="var">path_prod</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)); <span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">path_equiv</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">path_arrow</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">x</span> | <span class="id" type="var">x</span>]; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_Z_compose</span> (<span class="id" type="var">S</span> <span class="id" type="var">T</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) <span class="id" type="var">A</span> <span class="id" type="var">B</span>  =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> @ <span class="id" type="var">lcancel_Z</span> <span class="id" type="var">T</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span>) (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">B</span>))^.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">moveL_pV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ (<span class="id" type="var">path_Z_compose</span> <span class="id" type="var">S</span> <span class="id" type="var">T</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)^). <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span>). <span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_Z_fr_compose</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">S</span> <span class="id" type="var">T</span>: <span class="id" type="var">FinType</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">lcancel_Z_fr</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_Z_fr</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">T</span> @ (<span class="id" type="var">lcancel_Z_fr</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">S</span>) @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">A</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">B</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveL_pM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ (<span class="id" type="var">path_Z_fr_compose</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">transitivity</span> (<span class="id" type="var">path_Z_fr</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) 1 1 @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">A</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)^ (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">B</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)^)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">apply</span> <span class="id" type="var">whiskerL</span>. <span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">A</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>). <span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">B</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">A</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)^.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">B</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)^.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon</span> (<span class="id" type="var">s</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">m</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">n</span> + <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span>); <span class="id" type="tactic">apply</span> <span class="id" type="var">finsum_id</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon_fr</span> (<span class="id" type="var">s</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">m</span> +' <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">n</span> +' <span class="id" type="var">s</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">path_Z_fr</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>)); <span class="id" type="tactic">apply</span> <span class="id" type="var">finsum_id</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon_path_fr</span> (<span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sigma</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">s</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">alpha</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">a</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">a</span>) (<span class="id" type="var">betta</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">b</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">a</span> +' <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">a</span> +' <span class="id" type="var">s</span>)) (<span class="id" type="var">block_sum</span> <span class="id" type="var">alpha</span> <span class="id" type="var">sigma</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">b</span> +' <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">b</span> +' <span class="id" type="var">s</span>)) (<span class="id" type="var">block_sum</span> <span class="id" type="var">betta</span> <span class="id" type="var">sigma</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">lcancel_canon_fr</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>)^ @ <span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) <span class="id" type="var">alpha</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) <span class="id" type="var">betta</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" type="var">lcancel_canon_fr</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_blocksum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_blocksum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_p_pp</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveL_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_canon_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_Z_fr_pp_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p_Vp</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">a</span> <span class="id" type="var">s</span>). <span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">b</span> <span class="id" type="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) <span class="id" type="var">alpha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) <span class="id" type="var">betta</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) <span class="id" type="var">sigma</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon_path</span> (<span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sigma</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">s</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">alpha</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">a</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">a</span>) (<span class="id" type="var">betta</span> : <span class="id" type="var">fintype</span> <span class="id" type="var">b</span> &lt;~&gt; <span class="id" type="var">fintype</span> <span class="id" type="var">b</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">a</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">a</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">block_sum</span> <span class="id" type="var">sigma</span> <span class="id" type="var">alpha</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">b</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">b</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">block_sum</span> <span class="id" type="var">sigma</span> <span class="id" type="var">betta</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">lcancel_canon</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>)^ @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) <span class="id" type="var">alpha</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) <span class="id" type="var">betta</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" type="var">lcancel_canon</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_blocksum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_blocksum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_p_pp</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveL_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_canon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_Z_pp_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_Z_pp_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p_Vp</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) <span class="id" type="var">alpha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>) <span class="id" type="var">betta</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) <span class="id" type="var">sigma</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon_fr_compose</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> : <span class="id" type="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">lcancel_canon_fr</span> (<span class="id" type="var">s</span> +' <span class="id" type="var">t</span>) <span class="id" type="var">a</span> <span class="id" type="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_canon_fr</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> @ <span class="id" type="var">lcancel_canon_fr</span> <span class="id" type="var">t</span> (<span class="id" type="var">a</span> +' <span class="id" type="var">s</span>) (<span class="id" type="var">b</span> +' <span class="id" type="var">s</span>) @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType_assoc</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) (<span class="id" type="var">canon_FinType_assoc</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_canon_fr</span>. <span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z_fr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_Z_fr_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_Z_fr_pp_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">path_Z_fr_100</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">finsum_inv_l</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">finsum_inv</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">o</span> (<span class="id" type="var">finl</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) == <span class="id" type="var">Datatypes.inl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intros</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">eissect</span> (<span class="id" type="var">equiv_finsum</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) (<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">x</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">finsum_inv_r</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">finsum_inv</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">o</span> (<span class="id" type="var">finr</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) == <span class="id" type="var">Datatypes.inr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intros</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> (<span class="id" type="var">eissect</span> (<span class="id" type="var">equiv_finsum</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) (<span class="id" type="var">Datatypes.inr</span> <span class="id" type="var">x</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap011</span> (<span class="id" type="var">path_Z_fr</span> <span class="id" type="var">_</span>)); (<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">path_equiv</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">path_arrow</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">x</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">x</span> | <span class="id" type="var">x</span>]; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">change</span> (<span class="id" type="var">functor_sum</span> (<span class="id" type="var">B'</span> := ?<span class="id" type="var">B</span>) ?<span class="id" type="var">f</span> ?<span class="id" type="var">g</span> (<span class="id" type="var">Datatypes.inl</span> ?<span class="id" type="var">y</span>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">change</span> (<span class="id" type="var">functor_sum</span> (<span class="id" type="var">B'</span> := ?<span class="id" type="var">B</span>) ?<span class="id" type="var">f</span> ?<span class="id" type="var">g</span> (<span class="id" type="var">Datatypes.inl</span> ?<span class="id" type="var">y</span>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_r</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_r</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">change</span> (<span class="id" type="var">functor_sum</span> (<span class="id" type="var">B'</span> := ?<span class="id" type="var">B</span>) ?<span class="id" type="var">f</span> ?<span class="id" type="var">g</span> (<span class="id" type="var">Datatypes.inl</span> ?<span class="id" type="var">y</span>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_l</span>. <span class="id" type="tactic">change</span> (<span class="id" type="var">functor_sum</span> (<span class="id" type="var">B'</span> := ?<span class="id" type="var">B</span>) ?<span class="id" type="var">f</span> ?<span class="id" type="var">g</span> (<span class="id" type="var">Datatypes.inl</span> ?<span class="id" type="var">y</span>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">Datatypes.inl</span> <span class="id" type="var">B</span> (<span class="id" type="var">f</span> <span class="id" type="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_r</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">finsum_inv_r</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">lcancel_canon_compose</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> <span class="id" type="var">s</span> <span class="id" type="var">t</span> : <span class="id" type="var">nat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">lcancel_canon</span> (<span class="id" type="var">s</span> + <span class="id" type="var">t</span>) <span class="id" type="var">m</span> <span class="id" type="var">n</span>  =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_canon</span> <span class="id" type="var">s</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span> @ <span class="id" type="var">lcancel_canon</span> <span class="id" type="var">t</span> (<span class="id" type="var">m</span> + <span class="id" type="var">s</span>) (<span class="id" type="var">n</span> + <span class="id" type="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">canon_FinType_assoc</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) (<span class="id" type="var">canon_FinType_assoc</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>))^.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_canon</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <span class="id" type="var">lcancel_Z</span>  (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">s</span> + <span class="id" type="var">t</span>)) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n</span>)  =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_Z</span>  (<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">t</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) <span class="id" type="var">idpath</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>) <span class="id" type="var">idpath</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">t</span> <span class="id" type="var">s</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">inverse</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">concat_p1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">lcancel_Z_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_p_pp</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">refine</span> (<span class="id" type="var">concat_pp_p</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">_</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">whiskerL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ (<span class="id" type="var">whiskerL</span> <span class="id" type="var">_</span> (<span class="id" type="var">concat_p_pp</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_pp_p</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> :<span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">m</span>) (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span>) @<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">t</span>) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">m</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">canon_FinType</span> (<span class="id" type="var">n</span> + <span class="id" type="var">s</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> <span class="id" type="var">idpath</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span>)))^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">m</span>). <span class="id" type="tactic">destruct</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_1p</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">concat_pp_p</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">_</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">whiskerL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveR_Vp</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">moveR_Vp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_pp_p</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">concat_pp_p</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveL_pV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">moveR_Mp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">ap011_pp_pp</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">ap011_pp_pp</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">ap011_pp_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">ap011_VV</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">ap011_pp_pp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="var">FinType</span>) (<span class="id" type="var">e</span> : <span class="id" type="var">A</span> &lt;~&gt; <span class="id" type="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">e</span>) (<span class="id" type="var">idpath</span> <span class="id" type="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" type="var">path_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">C</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">equiv_functor_sum_r</span> <span class="id" type="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">natural_path_FinType_l</span> <span class="id" type="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">e</span>). <span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="var">FinType</span>) (<span class="id" type="var">e</span> : <span class="id" type="var">B</span> &lt;~&gt; <span class="id" type="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap011</span> <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">idpath</span> <span class="id" type="var">A</span>) (<span class="id" type="var">path_FinType</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> <span class="id" type="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" type="var">path_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">A</span> <span class="id" type="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">equiv_functor_sum_l</span> <span class="id" type="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">natural_path_FinType_r</span> <span class="id" type="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> <span class="id" type="var">e</span>). <span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">path_FinType_V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">path_FinType_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap011</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">path_FinType</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>)); <span class="id" type="tactic">unfold</span> <span class="id" type="var">canon_assoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">einv_ee</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">ecompose_e_ee</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A recursion principle for <span class="inlinecode"><span class="id" type="var">N1</span></span> <span class="inlinecode">(<span class="id" type="var">group_completion_FinType</span>)</span>.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">grp_compl_FinType_rec</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : 1-<span class="id" type="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">act_add</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span>:  <span class="id" type="var">FinType</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">f</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> = <span class="id" type="var">f</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">act_add_compose</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">S</span> <span class="id" type="var">T</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> : <span class="id" type="var">FinType</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">act_add</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) <span class="id" type="var">A1</span> <span class="id" type="var">A2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">f</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" type="var">act_add</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> @ <span class="id" type="var">act_add</span> <span class="id" type="var">T</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">Z</span> -&gt; <span class="id" type="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">N1_rec'</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> [<span class="id" type="var">A1</span> <span class="id" type="var">A2</span>]. <span class="id" type="tactic">exact</span> (<span class="id" type="var">f</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">intros</span> [<span class="id" type="var">A1</span> <span class="id" type="var">A2</span>]. <span class="id" type="tactic">intro</span> <span class="id" type="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">monoidal_action_morphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">S</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">act_add</span> <span class="id" type="var">S</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">ap</span> (<span class="id" type="var">uncurry</span> <span class="id" type="var">f</span>) <span class="id" type="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span> [<span class="id" type="var">A1</span> <span class="id" type="var">A2</span>]. <span class="id" type="tactic">intros</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [<span class="id" type="var">S</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">intros</span> [<span class="id" type="var">T</span> <span class="id" type="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">q</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">_</span> @ <span class="id" type="var">act_add_compose</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">whiskerL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<span class="id" type="keyword">forall</span> (<span class="id" type="var">B1</span> <span class="id" type="var">B2</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) <span class="id" type="var">A1</span> = <span class="id" type="var">B1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q</span> : <span class="id" type="var">sum_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) <span class="id" type="var">A2</span> = <span class="id" type="var">B2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">ap</span> (<span class="id" type="var">uncurry</span> <span class="id" type="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">path_prod</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">functor_prod</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)) (<span class="id" type="var">sum_FinType</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>)) (<span class="id" type="var">A1</span>, <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">B1</span>, <span class="id" type="var">B2</span>) <span class="id" type="var">p</span> <span class="id" type="var">q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" type="var">ap011</span> <span class="id" type="var">f</span> <span class="id" type="var">p</span> <span class="id" type="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">B1</span> <span class="id" type="var">B2</span>. <span class="id" type="tactic">intros</span> [] []. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">grp_compl_FinType_rec_beta_lcancel_Z</span> (<span class="id" type="var">P</span> : 1 -<span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">FinType</span> -&gt; <span class="id" type="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">act_add</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> : <span class="id" type="var">FinType</span>, <span class="id" type="var">f</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> = <span class="id" type="var">f</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">act_add_compose</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">S</span> <span class="id" type="var">T</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> : <span class="id" type="var">FinType</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">act_add</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span>) <span class="id" type="var">A1</span> <span class="id" type="var">A2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ (<span class="id" type="var">ap011</span> <span class="id" type="var">f</span> (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">FinType_assoc</span> <span class="id" type="var">T</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" type="var">act_add</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span> <span class="id" type="var">A2</span> @ <span class="id" type="var">act_add</span> <span class="id" type="var">T</span> (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A1</span>) (<span class="id" type="var">sum_FinType</span> <span class="id" type="var">S</span> <span class="id" type="var">A2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">S</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="var">FinType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="var">ap</span> (<span class="id" type="var">grp_compl_FinType_rec</span> <span class="id" type="var">P</span> <span class="id" type="var">f</span> <span class="id" type="var">act_add</span> <span class="id" type="var">act_add_compose</span>) (<span class="id" type="var">lcancel_Z</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">act_add</span> <span class="id" type="var">S</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_Z</span>. <span class="id" type="tactic">unfold</span> <span class="id" type="var">path_Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">refine</span> (<span class="id" type="var">cquot_rec_beta_ccleq</span> <span class="id" type="var">group_completion_FinType</span> <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> @ <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">concat_p1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Auxillary stuff for the next result 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Local</span>&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">grp_compl_FinType_ind_set_fintype</span> {<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <span class="id" type="var">Z</span> -&gt; <span class="id" type="keyword">Type</span>) {<span class="id" type="var">isset_P</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <span class="id" type="var">Z</span>, <span class="id" type="var">IsHSet</span> (<span class="id" type="var">P</span> <span class="id" type="var">z</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> (<span class="id" type="var">canon</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">base_change</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>) (<span class="id" type="var">alpha</span> : <span class="id" type="var">canon</span> <span class="id" type="var">a</span> = <span class="id" type="var">canon</span> <span class="id" type="var">a</span>) (<span class="id" type="var">betta</span> : <span class="id" type="var">canon</span> <span class="id" type="var">b</span> = <span class="id" type="var">canon</span> <span class="id" type="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">double_pathover</span> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">x</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">a</span>) (<span class="id" type="var">y</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">b</span>) =&gt;  <span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">alpha</span> <span class="id" type="var">betta</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> (<span class="id" type="var">x</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">a</span>) (<span class="id" type="var">y</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">deloop_double_ind_set'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">pFin</span> <span class="id" type="var">a</span>) (<span class="id" type="var">pFin</span> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> =&gt; <span class="id" type="var">BuildTruncType</span> 0 (<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>))) (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">alpha</span> <span class="id" type="var">betta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<span class="id" type="var">double_pathover_to_path</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> (<span class="id" type="var">x</span> : <span class="id" type="var">pFin</span> <span class="id" type="var">a</span>) (<span class="id" type="var">y</span> : <span class="id" type="var">pFin</span> <span class="id" type="var">b</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">alpha</span> <span class="id" type="var">betta</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">base_change</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Set induction for the group completion of FinType 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">grp_compl_FinType_ind_set</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <span class="id" type="var">Z</span> -&gt; <span class="id" type="keyword">Type</span>) {<span class="id" type="var">isset_P</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <span class="id" type="var">Z</span>, <span class="id" type="var">IsHSet</span> (<span class="id" type="var">P</span> <span class="id" type="var">z</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> (<span class="id" type="var">canon</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">base_change</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <span class="id" type="var">nat</span>) (<span class="id" type="var">alpha</span> : <span class="id" type="var">canon</span> <span class="id" type="var">a</span> = <span class="id" type="var">canon</span> <span class="id" type="var">a</span>) (<span class="id" type="var">betta</span> : <span class="id" type="var">canon</span> <span class="id" type="var">b</span> = <span class="id" type="var">canon</span> <span class="id" type="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">double_pathover</span> (<span class="id" type="keyword">fun</span> (<span class="id" type="var">x</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">a</span>) (<span class="id" type="var">y</span> : <span class="id" type="var">Finite_Types</span> <span class="id" type="var">b</span>) =&gt; <span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">alpha</span> <span class="id" type="var">betta</span> (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="var">f</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">act_add</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>) (<span class="id" type="var">s</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_over</span> <span class="id" type="var">P</span> (<span class="id" type="var">lcancel_canon</span> <span class="id" type="var">s</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) (<span class="id" type="var">f</span> <span class="id" type="var">m</span> <span class="id" type="var">n</span>) (<span class="id" type="var">f</span> (<span class="id" type="var">m</span>+<span class="id" type="var">s</span>)%<span class="id" type="var">nat</span> (<span class="id" type="var">n</span>+<span class="id" type="var">s</span>)%<span class="id" type="var">nat</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <span class="id" type="var">Z</span>, <span class="id" type="var">P</span> <span class="id" type="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">N1_ind_set</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [[<span class="id" type="var">a</span> <span class="id" type="var">x</span>] [<span class="id" type="var">b</span> <span class="id" type="var">y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">change</span> (<span class="id" type="var">ccl</span> <span class="id" type="var">group_completion_FinType</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;({| <span class="id" type="var">card_FinType</span> := <span class="id" type="var">a</span>; <span class="id" type="var">fintype_of_FinType</span> := <span class="id" type="var">x</span> |},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" type="var">card_FinType</span> := <span class="id" type="var">b</span>; <span class="id" type="var">fintype_of_FinType</span> := <span class="id" type="var">y</span> |}))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<span class="id" type="var">Fin_to_Z</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">revert</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (@<span class="id" type="var">grp_compl_FinType_ind_set_fintype</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">P</span> <span class="id" type="var">_</span> <span class="id" type="var">f</span> <span class="id" type="var">base_change</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <span class="id" type="var">monoidal_action_morphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> [[<span class="id" type="var">a</span> <span class="id" type="var">A</span>] [<span class="id" type="var">b</span> <span class="id" type="var">B</span>]] <span class="id" type="var">C</span> [<span class="id" type="var">S</span> <span class="id" type="var">p</span>]. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">revert</span> <span class="id" type="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">deloop_ind_prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">pFin</span> <span class="id" type="var">b</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">revert</span> <span class="id" type="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">deloop_ind_prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">pFin</span> <span class="id" type="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">S</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">s</span> <span class="id" type="var">S</span>]. <span class="id" type="var">revert</span> <span class="id" type="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">deloop_ind_prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">pFin</span> <span class="id" type="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">change</span> (@<span class="id" type="var">ccleq</span> <span class="id" type="var">group_completion_FinType</span> (?<span class="id" type="var">A</span>, ?<span class="id" type="var">B</span>) <span class="id" type="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;({| <span class="id" type="var">card_FinType</span> := <span class="id" type="var">s</span>; <span class="id" type="var">fintype_of_FinType</span> := <span class="id" type="var">point</span> (<span class="id" type="var">Finite_Types</span> <span class="id" type="var">s</span>) |}; <span class="id" type="var">idpath</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) <span class="id" type="var">A</span> <span class="id" type="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">change</span> {| <span class="id" type="var">card_FinType</span> := ?<span class="id" type="var">x</span>; <span class="id" type="var">fintype_of_FinType</span> := <span class="id" type="var">point</span> (<span class="id" type="var">Finite_Types</span> ?<span class="id" type="var">x</span>) |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">x</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">H</span> : (<span class="id" type="var">lcancel_Z</span> (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">a</span>) (<span class="id" type="var">canon_FinType</span> <span class="id" type="var">b</span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">lcancel_canon</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) @ (<span class="id" type="var">canon_grpclFinType_sum</span> <span class="id" type="var">s</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span>)^).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">unfold</span> <span class="id" type="var">lcancel_canon</span>. <span class="id" type="tactic">unfold</span> <span class="id" type="var">canon_grpclFinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">a</span>) (<span class="id" type="var">finsum_id</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">concat_p1</span>. <span class="id" type="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srapply</span> @<span class="id" type="var">path_over_concat</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> (<span class="id" type="var">grp_compl_FinType_ind_set_fintype</span> <span class="id" type="var">P</span> <span class="id" type="var">f</span> <span class="id" type="var">base_change</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <span class="id" type="var">grp_compl_FinType_ind_set_fintype</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">deloop_double_ind_set_beta_pt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">deloop_double_ind_set_beta_pt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">act_add</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">unfold</span> <span class="id" type="var">canon_grpclFinType_sum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">change</span> (<span class="id" type="var">point</span> (<span class="id" type="var">Finite_Types</span> ?<span class="id" type="var">a</span>)) <span class="id" type="keyword">with</span> (<span class="id" type="var">canon</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <span class="id" type="var">finsum_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- (<span class="id" type="var">path_FinType_fix</span> (<span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">_</span>)) (<span class="id" type="var">canon</span> (<span class="id" type="var">_</span> + <span class="id" type="var">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">equiv_finsum</span> <span class="id" type="var">s</span> <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- (<span class="id" type="var">path_FinType_fix</span> (<span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">_</span>)) (<span class="id" type="var">canon</span> (<span class="id" type="var">_</span> + <span class="id" type="var">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">equiv_finsum</span> <span class="id" type="var">s</span> <span class="id" type="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<span class="id" type="keyword">forall</span> (<span class="id" type="var">A</span> : <span class="id" type="var">Finite_Types</span> (<span class="id" type="var">a</span> + <span class="id" type="var">s</span>)) (<span class="id" type="var">B</span> : <span class="id" type="var">Finite_Types</span> (<span class="id" type="var">b</span> + <span class="id" type="var">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">p</span> : <span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">a</span>) = <span class="id" type="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">q</span> : <span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">b</span>) = <span class="id" type="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">path_over</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">ap011</span> <span class="id" type="var">FinType_to_Z</span> (<span class="id" type="var">pft_to_pbs</span> <span class="id" type="var">p</span>) (<span class="id" type="var">pft_to_pbs</span> <span class="id" type="var">q</span>))^<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">grp_compl_FinType_ind_set_fintype</span> <span class="id" type="var">P</span> <span class="id" type="var">f</span> <span class="id" type="var">base_change</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">grp_compl_FinType_ind_set_fintype</span> <span class="id" type="var">P</span> <span class="id" type="var">f</span> <span class="id" type="var">base_change</span> (<span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">sum_finite_types</span> (<span class="id" type="var">canon</span> <span class="id" type="var">s</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">b</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" type="tactic">intro</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">A</span> <span class="id" type="var">B</span> [] []. <span class="id" type="tactic">apply</span> <span class="id" type="var">path_over_id</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Definition</span> <span class="id" type="var">grp_compl_FinType_ind_hprop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">P</span> : <span class="id" type="var">Z</span> -&gt; <span class="id" type="keyword">Type</span>) {<span class="id" type="var">hprop_P</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <span class="id" type="var">Z</span>, <span class="id" type="var">IsHProp</span> (<span class="id" type="var">P</span> <span class="id" type="var">z</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">f</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">n</span> : <span class="id" type="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">P</span> (<span class="id" type="var">Fin_to_Z</span> (<span class="id" type="var">canon</span> <span class="id" type="var">m</span>) (<span class="id" type="var">canon</span> <span class="id" type="var">n</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" type="keyword">forall</span> <span class="id" type="var">z</span> : <span class="id" type="var">Z</span>, <span class="id" type="var">P</span> <span class="id" type="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">srefine</span> (<span class="id" type="var">grp_compl_FinType_ind_set</span> <span class="id" type="var">P</span> <span class="id" type="var">f</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">path_to_double_pathover</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hprop_P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">path_to_path_over</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hprop_P</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Defined</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="var">N1_FinType_set_ind</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>